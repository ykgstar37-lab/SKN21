<!-- form1.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <div class="container mt-3">
            <form name="f1">
                <div style="color: red" id="id_error"></div>
                <label for="id" class="'form-label">ID:</label>
                <input type="text" name="id" id="id" required class="form-control" />
                <label for="pwd" class="form-label">패스워드:</label>
                <input type="password" name="password" id="pwd" class="form-control" required />

                <div class="btn-group mt-1">
                    <input type="button" onclick="sendForm(1)" value="등록" class="btn btn-primary" />
                    <input type="button" onclick="sendForm(2)" value="수정" class="btn btn-primary" />
                </div>
            </form>
        </div>
        <script>
            function sendForm(flag) {
                //flag=1: 등록, flag=2: 수정 => 요청 url을 다르게 한다.
                // form객체를 조회
                const f1 = window.document.f1;
                console.log(f1.action, f1.method, f1.enctype);
                if (flag === 1) {
                    // /add -> 현재 페이지를 요청한 ip:port / add
                    f1.action = "/add";  // http://127.0.0.1:5500/add
                    f1.method = "POST";
                } else if (flag === 2) {
                    f1.action = "/update";
                    f1.methoc = "POST";
                }
                console.log(f1.action, f1.method, f1.enctype);
                // form 체크 (id/password 입력 조건)

                // text/password객체를 조회 -
                // 입력 태그 조회: form객체.input_이름
                let id = f1.id.value    // f1.id -> <input>
                let pwd = f1.password.value
                
                if (id.length < 5) {
                    // alert("ID는 5글자 이상 입력하세요.");
                    document.getElementById("id_error").innerHTML = "ID는 5글자 이상 입력하세요."
                    f1.id.focus(); //포커스 이동.
                    return;
                }
                if (pwd.length < 5) {
                    document.getElementById("id_error").innerHTML = "패스워드는 5글자 이상 입력하세요."
                    f1.password.focus();
                    return;
                }
                f1.submit();  // 전송(submit)
            }

            
        </script>
    </body>
</html>
